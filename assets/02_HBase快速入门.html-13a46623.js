import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o,c as l,b as a,d as s,e as t,a as n}from"./app-9a860c23.js";const c={},r=n(`<h2 id="_2-1hbase-安装部署" tabindex="-1"><a class="header-anchor" href="#_2-1hbase-安装部署" aria-hidden="true">#</a> 2.1 HBase 安装部署</h2><h3 id="_2-1-1zookeeper-正常部署" tabindex="-1"><a class="header-anchor" href="#_2-1-1zookeeper-正常部署" aria-hidden="true">#</a> 2.1.1 Zookeeper 正常部署</h3><p>首先保证 Zookeeper 集群的正常部署，并启动之。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 zookeeper-3.5.7<span class="token punctuation">]</span>$ bin/zkServer.sh start
<span class="token punctuation">[</span>atguigu@hadoop103 zookeeper-3.5.7<span class="token punctuation">]</span>$ bin/zkServer.sh start
<span class="token punctuation">[</span>atguigu@hadoop104 zookeeper-3.5.7<span class="token punctuation">]</span>$ bin/zkServer.sh start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-1-2hadoop-正常部署" tabindex="-1"><a class="header-anchor" href="#_2-1-2hadoop-正常部署" aria-hidden="true">#</a> 2.1.2 Hadoop 正常部署</h3><p>Hadoop 集群的正常部署并启动。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 hadoop-3.1.3<span class="token punctuation">]</span>$ sbin/start-dfs.sh
<span class="token punctuation">[</span>atguigu@hadoop103 hadoop-3.1.3<span class="token punctuation">]</span>$ sbin/start-yarn.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-1-3hbase-的解压" tabindex="-1"><a class="header-anchor" href="#_2-1-3hbase-的解压" aria-hidden="true">#</a> 2.1.3 HBase 的解压</h3><p>1）解压 Hbase 到指定目录</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 software<span class="token punctuation">]</span>$ <span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> hbase-2.4.11-bin.tar.gz <span class="token parameter variable">-C</span> /opt/module/
<span class="token punctuation">[</span>atguigu@hadoop102 software<span class="token punctuation">]</span>$ <span class="token function">mv</span> /opt/module/hbase-2.4.11 /opt/module/hbase
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>2）配置环境变量</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 ~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">vim</span> /etc/profile.d/my_env.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>添加</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#HBASE_HOME</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HBASE_HOME</span><span class="token operator">=</span>/opt/module/hbase
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$HBASE_HOME</span>/bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3）使用 source 让配置的环境变量生效</p><h3 id="_2-1-4hbase-的配置文件" tabindex="-1"><a class="header-anchor" href="#_2-1-4hbase-的配置文件" aria-hidden="true">#</a> 2.1.4 HBase 的配置文件</h3>`,16),d={href:"http://hbase-env.sh",target:"_blank",rel:"noopener noreferrer"},u=n(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">HBASE_MANAGES_ZK</span><span class="token operator">=</span>false
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2）hbase-site.xml 修改内容：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="token prolog">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hbase.zookeeper.quorum<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hadoop102,hadoop103,hadoop104<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>The directory shared by RegionServers.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--	&lt;property&gt;--&gt;</span>
<span class="token comment">&lt;!--		&lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;--&gt;</span>
<span class="token comment">&lt;!--		&lt;value&gt;/export/zookeeper&lt;/value&gt;--&gt;</span>
<span class="token comment">&lt;!--		&lt;description&gt; 记得修改 ZK 的配置文件，ZK 的信息不能保存到临时文件夹&lt;/description&gt; --&gt;</span>
<span class="token comment">&lt;!--	&lt;/property&gt;--&gt;</span>


	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hbase.rootdir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hdfs://hadoop102:8020/hbase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>The directory shared by RegionServers.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	
	
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hbase.cluster.distributed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3）regionservers</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hadoop102
hadoop103
hadoop104
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4）解决 HBase 和 Hadoop 的 log4j 兼容性问题，修改 HBase 的 jar 包，使用 Hadoop 的 jar 包</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 hbase<span class="token punctuation">]</span>$ <span class="token function">mv</span> /opt/module/hbase/lib/client-facingthirdparty/slf4j-reload4j-1.7.33.jar /opt/module/hbase/lib/clientfacing-thirdparty/slf4j-reload4j-1.7.33.jar.bak
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-1-5hbase-远程发送到其他集群" tabindex="-1"><a class="header-anchor" href="#_2-1-5hbase-远程发送到其他集群" aria-hidden="true">#</a> 2.1.5 HBase 远程发送到其他集群</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 module<span class="token punctuation">]</span>$ xsync hbase/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-1-6hbase-服务的启动" tabindex="-1"><a class="header-anchor" href="#_2-1-6hbase-服务的启动" aria-hidden="true">#</a> 2.1.6 HBase 服务的启动</h3><p>1）单点启动</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 hbase<span class="token punctuation">]</span>$ bin/hbase-daemon.sh start master
<span class="token punctuation">[</span>atguigu@hadoop102 hbase<span class="token punctuation">]</span>$ bin/hbase-daemon.sh start regionserver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>2）群启</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 hbase<span class="token punctuation">]</span>$ bin/start-hbase.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3）对应的停止服务</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 hbase<span class="token punctuation">]</span>$ bin/stop-hbase.sh	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-1-7查看-hbase-页面" tabindex="-1"><a class="header-anchor" href="#_2-1-7查看-hbase-页面" aria-hidden="true">#</a> 2.1.7 查看 HBase 页面</h3><p>启动成功后，可以通过“host:port”的方式来访问 HBase 管理页面，例如：</p>`,18),g={href:"http://hadoop102:16010",target:"_blank",rel:"noopener noreferrer"},h=n(`<h3 id="_2-1-8高可用-可选" tabindex="-1"><a class="header-anchor" href="#_2-1-8高可用-可选" aria-hidden="true">#</a> 2.1.8 高可用（可选）</h3><p>在 HBase 中 HMaster 负责监控 HRegionServer 的生命周期，均衡 RegionServer 的负载， 如果HMaster 挂掉了，那么整个 HBase 集群将陷入不健康的状态，并且此时的工作状态并不会维持太久。所以HBase 支持对 HMaster 的高可用配置。</p><p>1）关闭 HBase 集群（如果没有开启则跳过此步）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 hbase<span class="token punctuation">]</span>$ bin/stop-hbase.sh	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2）在 conf 目录下创建 backup-masters 文件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 hbase<span class="token punctuation">]</span>$ <span class="token function">touch</span> conf/backup-masters	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3）在 backup-masters 文件中配置高可用 HMaster 节点</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 hbase<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> hadoop103 <span class="token operator">&gt;</span> conf/backup-masters	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>4）将整个 conf 目录 scp 到其他节点</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 hbase<span class="token punctuation">]</span>$ xsync conf	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>5）重启 hbase,打开页面测试查看</p>`,11),b={href:"http://hadooo102:16010",target:"_blank",rel:"noopener noreferrer"},v=n(`<h2 id="_2-2hbase-shell-操作" tabindex="-1"><a class="header-anchor" href="#_2-2hbase-shell-操作" aria-hidden="true">#</a> 2.2 HBase Shell 操作</h2><h3 id="_2-2-1基本操作" tabindex="-1"><a class="header-anchor" href="#_2-2-1基本操作" aria-hidden="true">#</a> 2.2.1 基本操作</h3><p>1）进入 HBase 客户端命令行</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>atguigu@hadoop102 hbase<span class="token punctuation">]</span>$ bin/hbase shell
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2）查看帮助命令</p><p>能够展示 HBase 中所有能使用的命令，主要使用的命令有 namespace 命令空间相关，DDL 创建修改表格，DML 写入读取数据。</p><h3 id="_2-2-2namespace" tabindex="-1"><a class="header-anchor" href="#_2-2-2namespace" aria-hidden="true">#</a> 2.2.2 namespace</h3><p>1）创建命名空间</p><p>使用特定的 help 语法能够查看命令如何使用。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:002:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> <span class="token builtin class-name">help</span> <span class="token string">&#39;create_namespace&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2）创建命名空间 bigdata</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:003:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> create_namespace <span class="token string">&#39;bigdata&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3）查看所有的命名空间</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:004:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> list_namespace
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-2-3ddl" tabindex="-1"><a class="header-anchor" href="#_2-2-3ddl" aria-hidden="true">#</a> 2.2.3 DDL</h3><p>1）创建表</p><p>在 bigdata 命名空间中创建表格student，两个列族。info 列族数据维护的版本数为 5 个，如果不写默认版本数为 1。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:005:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> create <span class="token string">&#39;bigdata:student&#39;</span>, <span class="token punctuation">{</span>NAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;info&#39;</span>, VERSIONS <span class="token operator">=</span><span class="token operator">&gt;</span>
<span class="token number">5</span><span class="token punctuation">}</span>, <span class="token punctuation">{</span>NAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;msg&#39;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果创建表格只有一个列族，没有列族属性，可以简写。</p><p>如果不写命名空间，使用默认的命名空间 default。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:009:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> create <span class="token string">&#39;student1&#39;</span>,<span class="token string">&#39;info&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2）查看表</p><p>查看表有两个命令：list 和 describe list：查看所有的表名</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:013:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>describe：查看一个表的详情</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:014:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> describe <span class="token string">&#39;student1&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3）修改表</p><p>表名创建时写的所有和列族相关的信息，都可以后续通过 alter 修改，包括增加删除列族。</p><p>（1）增加列族和修改信息都使用覆盖的方法</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:015:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> alter <span class="token string">&#39;student1&#39;</span>, <span class="token punctuation">{</span>NAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;f1&#39;</span>, VERSIONS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>（2）删除信息使用特殊的语法</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:015:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> alter <span class="token string">&#39;student1&#39;</span>, NAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;f1&#39;</span>, METHOD <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;delete&#39;</span>
hbase:016:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> alter <span class="token string">&#39;student1&#39;</span>, <span class="token string">&#39;delete&#39;</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;f1&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>4）删除表</p><p>shell 中删除表格,需要先将表格状态设置为不可用。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:017:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> disable <span class="token string">&#39;student1&#39;</span>
hbase:018:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> drop <span class="token string">&#39;student1&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-4dml" tabindex="-1"><a class="header-anchor" href="#_2-2-4dml" aria-hidden="true">#</a> 2.2.4 DML</h3><p>1）写入数据</p><p>在 HBase 中如果想要写入数据，只能添加结构中最底层的 cell。可以手动写入时间戳指定 cell 的版本，推荐不写默认使用当前的系统时间。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:019:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> put <span class="token string">&#39;bigdata:student&#39;</span>,<span class="token string">&#39;1001&#39;</span>,<span class="token string">&#39;info:name&#39;</span>,<span class="token string">&#39;zhangsan&#39;</span>
hbase:020:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> put <span class="token string">&#39;bigdata:student&#39;</span>,<span class="token string">&#39;1001&#39;</span>,<span class="token string">&#39;info:name&#39;</span>,<span class="token string">&#39;lisi&#39;</span>
hbase:021:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> put <span class="token string">&#39;bigdata:student&#39;</span>,<span class="token string">&#39;1001&#39;</span>,<span class="token string">&#39;info:age&#39;</span>,<span class="token string">&#39;18&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果重复写入相同rowKey，相同列的数据，会写入多个版本进行覆盖。</p><p>2）读取数据</p><p>读取数据的方法有两个：get 和 scan。</p><p>get 最大范围是一行数据，也可以进行列的过滤，读取数据的结果为多行 cell。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:022:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> get <span class="token string">&#39;bigdata:student&#39;</span>,<span class="token string">&#39;1001&#39;</span>
hbase:023:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> get <span class="token string">&#39;bigdata:student&#39;</span>,<span class="token string">&#39;1001&#39;</span> , <span class="token punctuation">{</span>COLUMN <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;info:name&#39;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以修改读取cell 的版本数，默认读取一个。最多能够读取当前列族设置的维护版本数。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:024:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>get <span class="token string">&#39;bigdata:student&#39;</span>,<span class="token string">&#39;1001&#39;</span> , <span class="token punctuation">{</span>COLUMN <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;info:name&#39;</span>,
VERSIONS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">6</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>scan 是扫描数据，能够读取多行数据，不建议扫描过多的数据，推荐使用 startRow 和stopRow 来控制读取的数据，默认范围左闭右开。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:025:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> scan <span class="token string">&#39;bigdata:student&#39;</span>,<span class="token punctuation">{</span>STARTROW <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;1001&#39;</span>,STOPROW <span class="token operator">=</span><span class="token operator">&gt;</span>
<span class="token string">&#39;1002&#39;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>实际开发中使用shell 的机会不多，所有丰富的使用方法到API 中介绍。</p><p>3）删除数据</p><p>删除数据的方法有两个：delete 和 deleteall。</p><p>delete 表示删除一个版本的数据，即为 1 个 cell，不填写版本默认删除最新的一个版本。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:026:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> delete <span class="token string">&#39;bigdata:student&#39;</span>,<span class="token string">&#39;1001&#39;</span>,<span class="token string">&#39;info:name&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>deleteall 表示删除所有版本的数据，即为当前行当前列的多个 cell。（执行命令会标记数据为要删除，不会直接将数据彻底删除，删除数据只在特定时期清理磁盘时进行）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hbase:027:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> deleteall <span class="token string">&#39;bigdata:student&#39;</span>,<span class="token string">&#39;1001&#39;</span>,<span class="token string">&#39;info:name&#39;</span>	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,55);function k(m,f){const e=i("ExternalLinkIcon");return o(),l("div",null,[r,a("p",null,[s("1）"),a("a",d,[s("hbase-env.sh"),t(e)]),s(" 修改内容，可以添加到最后：")]),u,a("p",null,[a("a",g,[s("http://hadoop102:16010"),t(e)])]),h,a("p",null,[a("a",b,[s("http://hadooo102:16010"),t(e)])]),v])}const H=p(c,[["render",k],["__file","02_HBase快速入门.html.vue"]]);export{H as default};
