import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as l,c as a,d}from"./app-42cc0bba.js";const i={},s=d(`<h2 id="启动类命令" tabindex="-1"><a class="header-anchor" href="#启动类命令" aria-hidden="true">#</a> 启动类命令</h2><p>启动docker：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>systemctl start docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>停止Docker：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>systemctl stop docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>重启Docker：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>systemctl restart docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看状态：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>systemctl status docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>设置开机自启：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>systemctl enable docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="帮助类命令" tabindex="-1"><a class="header-anchor" href="#帮助类命令" aria-hidden="true">#</a> 帮助类命令</h2><p>查看Docker版本：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>docker version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看Docker概要信息：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>docker info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看Docker总体帮助文档：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>docker --help
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看docker具体命令帮助文档：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>docker 具体命令 --help
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="镜像命令" tabindex="-1"><a class="header-anchor" href="#镜像命令" aria-hidden="true">#</a> 镜像命令</h2><h3 id="列出本地主机上的镜像" tabindex="-1"><a class="header-anchor" href="#列出本地主机上的镜像" aria-hidden="true">#</a> 列出本地主机上的镜像</h3><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>docker images
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>参数：</p><ul><li><code>-a</code>：列出所有镜像（含历史镜像）</li><li><code>-q</code>：只显示镜像ID</li><li><code>-f</code>：过滤</li></ul><h3 id="在远程仓库中搜索镜像" tabindex="-1"><a class="header-anchor" href="#在远程仓库中搜索镜像" aria-hidden="true">#</a> 在远程仓库中搜索镜像</h3><p>（默认取docker hub中搜索）</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>docker search [OPTIONS] 镜像名称
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>参数：</p><ul><li><code>-f</code>：过滤</li><li><code>--limit 数量</code>：只展示前几项</li></ul><h3 id="下载镜像" tabindex="-1"><a class="header-anchor" href="#下载镜像" aria-hidden="true">#</a> 下载镜像</h3><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>docker pull 镜像名称[:tag]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>不加 tag 时，默认下载最新的镜像（即tag为latest）。</p><h3 id="查看占据的空间" tabindex="-1"><a class="header-anchor" href="#查看占据的空间" aria-hidden="true">#</a> 查看占据的空间</h3><p>查看镜像/容器/数据卷所占的空间：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>docker system df
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>删除镜像</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>docker rmi 镜像名称/ID

# 强制删除
docker rmi -f 镜像名称/ID
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以使用空格分隔，删除多个镜像：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>docker rmi 镜像1 镜像2 镜像3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>删除全部镜像：</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>docker rmi -f $(docker images -qa)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="虚悬镜像" tabindex="-1"><a class="header-anchor" href="#虚悬镜像" aria-hidden="true">#</a> 虚悬镜像</h2><p>仓库名、标签都是<code>&lt;none&gt;</code>的镜像，俗称虚悬镜像（dangling image）。</p><h2 id="命令自动补全" tabindex="-1"><a class="header-anchor" href="#命令自动补全" aria-hidden="true">#</a> 命令自动补全</h2><p>docker支持命令自动补全功能，当输入镜像名前几位时，可以按tab键自动补全镜像名称、tag等。</p><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code># 如果镜像中有ubuntu，查看输入ub按下tab是否可以补全
docker run ub
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果按下tab时没有自动补全，可以按以下步骤操作：</p><ol><li>检查是否安装了<code>bash-completion</code>（命令补全增强包）</li></ol><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code># 检查有 /usr/share/bash-completion/bash_completion 这个文件
ls /usr/share/bash-completion/bash_completion
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>如果有<code>/usr/share/bash-completion</code>目录，但是没有<code>/usr/share/bash-completion/bash_completion</code>文件（centos6为<code>/etc/bash_completion</code>文件），则需要安装<code>bash-completion</code></li></ol><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>yum -y install bash-completion
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>检查是否安装了docker的自动补全</li></ol><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code># 检查/usr/share/bash-completion/completions文件夹下是否有docker开头的自动补全
# docker安装完后会在该文件夹下生成自动补全文件docker
# 如果安装了docker-compose，则该文件夹下还会有 docker-compose文件
ll /usr/share/bash-completion/completions/docker*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>如果已经安装了docker自动补全，使用source命令使其生效</li></ol><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code>source /usr/share/bash-completion/completions/docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="5"><li>再次使用tab查看是否可以自动补全</li></ol><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code># 如果镜像中有ubuntu，查看输入ub按下tab是否可以补全
docker run ub
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>如果有报错，且报错中提示<code>_get_comp_words_by_ref: command not found</code>。说明<code>bash-completion</code>的配置文件没有生效，需要<code>source</code>一下</li></ol><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code># 对于centos7，bash-completion安装的是2.x版本，配置文件为/usr/share/bash-completion/bash_completion
source /usr/share/bash-completion/bash_completion

# 如果是centos6，自动安装的bash-completion最新版为1.x版本，配置文件为/etc/bash_completion
# bash /etc/bash_completion
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="7"><li>再次使用tab查看是否可以自动补全</li></ol><div class="language-Shell line-numbers-mode" data-ext="Shell"><pre class="language-Shell"><code># 如果镜像中有ubuntu，查看输入ub按下tab是否可以补全
docker run ub
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,62),n=[s];function r(c,o){return l(),a("div",null,n)}const h=e(i,[["render",r],["__file","04-Docker常用命令.html.vue"]]);export{h as default};
